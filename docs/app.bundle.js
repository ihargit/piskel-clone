!function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:!1,exports:{}};return e[n].call(o.exports,o,o.exports,r),o.l=!0,o.exports}r.m=e,r.c=t,r.d=function(e,t,n){r.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:n})},r.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},r.t=function(e,t){if(1&t&&(e=r(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var n=Object.create(null);if(r.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)r.d(n,o,function(t){return e[t]}.bind(null,o));return n},r.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return r.d(t,"a",t),t},r.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},r.p="",r(r.s=47)}([function(e,t,r){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map(function(t){var r=function(e,t){var r=e[1]||"",n=e[3];if(!n)return r;if(t&&"function"==typeof btoa){var o=(s=n,"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(s))))+" */"),i=n.sources.map(function(e){return"/*# sourceURL="+n.sourceRoot+e+" */"});return[r].concat(i).concat([o]).join("\n")}var s;return[r].join("\n")}(t,e);return t[2]?"@media "+t[2]+"{"+r+"}":r}).join("")},t.i=function(e,r){"string"==typeof e&&(e=[[null,e,""]]);for(var n={},o=0;o<this.length;o++){var i=this[o][0];null!=i&&(n[i]=!0)}for(o=0;o<e.length;o++){var s=e[o];null!=s[0]&&n[s[0]]||(r&&!s[2]?s[2]=r:r&&(s[2]="("+s[2]+") and ("+r+")"),t.push(s))}},t}},function(e,t,r){var n,o,i={},s=(n=function(){return window&&document&&document.all&&!window.atob},function(){return void 0===o&&(o=n.apply(this,arguments)),o}),a=function(e){var t={};return function(e,r){if("function"==typeof e)return e();if(void 0===t[e]){var n=function(e,t){return t?t.querySelector(e):document.querySelector(e)}.call(this,e,r);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}t[e]=n}return t[e]}}(),l=null,c=0,d=[],p=r(14);function h(e,t){for(var r=0;r<e.length;r++){var n=e[r],o=i[n.id];if(o){o.refs++;for(var s=0;s<o.parts.length;s++)o.parts[s](n.parts[s]);for(;s<n.parts.length;s++)o.parts.push(w(n.parts[s],t))}else{var a=[];for(s=0;s<n.parts.length;s++)a.push(w(n.parts[s],t));i[n.id]={id:n.id,refs:1,parts:a}}}}function m(e,t){for(var r=[],n={},o=0;o<e.length;o++){var i=e[o],s=t.base?i[0]+t.base:i[0],a={css:i[1],media:i[2],sourceMap:i[3]};n[s]?n[s].parts.push(a):r.push(n[s]={id:s,parts:[a]})}return r}function u(e,t){var r=a(e.insertInto);if(!r)throw new Error("Couldn't find a style target. This probably means that the value for the 'insertInto' parameter is invalid.");var n=d[d.length-1];if("top"===e.insertAt)n?n.nextSibling?r.insertBefore(t,n.nextSibling):r.appendChild(t):r.insertBefore(t,r.firstChild),d.push(t);else if("bottom"===e.insertAt)r.appendChild(t);else{if("object"!=typeof e.insertAt||!e.insertAt.before)throw new Error("[Style Loader]\n\n Invalid value for parameter 'insertAt' ('options.insertAt') found.\n Must be 'top', 'bottom', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n");var o=a(e.insertAt.before,r);r.insertBefore(t,o)}}function v(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=d.indexOf(e);t>=0&&d.splice(t,1)}function g(e){var t=document.createElement("style");if(void 0===e.attrs.type&&(e.attrs.type="text/css"),void 0===e.attrs.nonce){var n=function(){0;return r.nc}();n&&(e.attrs.nonce=n)}return f(t,e.attrs),u(e,t),t}function f(e,t){Object.keys(t).forEach(function(r){e.setAttribute(r,t[r])})}function w(e,t){var r,n,o,i;if(t.transform&&e.css){if(!(i="function"==typeof t.transform?t.transform(e.css):t.transform.default(e.css)))return function(){};e.css=i}if(t.singleton){var s=c++;r=l||(l=g(t)),n=y.bind(null,r,s,!1),o=y.bind(null,r,s,!0)}else e.sourceMap&&"function"==typeof URL&&"function"==typeof URL.createObjectURL&&"function"==typeof URL.revokeObjectURL&&"function"==typeof Blob&&"function"==typeof btoa?(r=function(e){var t=document.createElement("link");return void 0===e.attrs.type&&(e.attrs.type="text/css"),e.attrs.rel="stylesheet",f(t,e.attrs),u(e,t),t}(t),n=function(e,t,r){var n=r.css,o=r.sourceMap,i=void 0===t.convertToAbsoluteUrls&&o;(t.convertToAbsoluteUrls||i)&&(n=p(n));o&&(n+="\n/*# sourceMappingURL=data:application/json;base64,"+btoa(unescape(encodeURIComponent(JSON.stringify(o))))+" */");var s=new Blob([n],{type:"text/css"}),a=e.href;e.href=URL.createObjectURL(s),a&&URL.revokeObjectURL(a)}.bind(null,r,t),o=function(){v(r),r.href&&URL.revokeObjectURL(r.href)}):(r=g(t),n=function(e,t){var r=t.css,n=t.media;n&&e.setAttribute("media",n);if(e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}.bind(null,r),o=function(){v(r)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else o()}}e.exports=function(e,t){if("undefined"!=typeof DEBUG&&DEBUG&&"object"!=typeof document)throw new Error("The style-loader cannot be used in a non-browser environment");(t=t||{}).attrs="object"==typeof t.attrs?t.attrs:{},t.singleton||"boolean"==typeof t.singleton||(t.singleton=s()),t.insertInto||(t.insertInto="head"),t.insertAt||(t.insertAt="bottom");var r=m(e,t);return h(r,t),function(e){for(var n=[],o=0;o<r.length;o++){var s=r[o];(a=i[s.id]).refs--,n.push(a)}e&&h(m(e,t),t);for(o=0;o<n.length;o++){var a;if(0===(a=n[o]).refs){for(var l=0;l<a.parts.length;l++)a.parts[l]();delete i[a.id]}}}};var b,x=(b=[],function(e,t){return b[e]=t,b.filter(Boolean).join("\n")});function y(e,t,r,n){var o=r?"":n.css;if(e.styleSheet)e.styleSheet.cssText=x(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}},function(e,t,r){"use strict";e.exports=function(e,t){return"string"!=typeof e?e:(/^['"].*['"]$/.test(e)&&(e=e.slice(1,-1)),/["'() \t\n]/.test(e)||t?'"'+e.replace(/"/g,'\\"').replace(/\n/g,"\\n")+'"':e)}},function(e,t){e.exports='<li class="preview-tile selected" data-tile-number="0">\n  <div class="canvas-container">\n    <div class="canvas-background"></div>\n    <canvas width="96" height="96" class="tile-view"></canvas>\n    <button rel="tooltip" data-placement="right" data-tile-action="delete"\n            class="tile-overlay delete-frame-action icon-frame-recyclebin-white"\n            style="display: block;" data-original-title="Delete this frame"></button>\n    <button rel="tooltip" data-placement="right" data-tile-action="clone"\n            class="tile-overlay duplicate-frame-action icon-frame-duplicate-white"\n            data-original-title="Duplicate this frame"></button>\n  </div>\n</li>\n'},function(e,t){e.exports='<div class="drawing-canvas-container">\n  <div class="canvas-background"></div>\n</div>\n'},function(e,t){e.exports='<header class="header">\n  <div class="navigation">\n    <h1 class="player-name">Piskel clone</h1>\n  </div>\n</header>\n\n<main class="main">\n  <div class="sticky-section left-sticky-section" id="tool-section">\n    <div class="sticky-section-wrap">\n      <div class="vertical-center"></div>\n    </div>\n  </div>\n  <div class="columns">\n    <div class="column left-column"></div>\n    <div class="column main-column"></div>\n    <div class="column right-column"></div>\n  </div>\n  <div class="sticky-section right-sticky-section" id="tooltip">\n    <div class="sticky-section-wrap">\n      <div class="settings-icons"></div>\n      <div class="drawer"></div>\n    </div>\n  </div>\n</main>\n'},function(e,t){e.exports='<ul class="tools-wrapper">\n\x3c!--  <li id="tool-paint-bucket" class="tool-icon icon-tool-paint-bucket"></li>--\x3e\n  <li id="tool-pen" class="tool-icon icon-tool-pen selected" data-tool-id="tool-pen"></li>\n  <li id="tool-vertical-mirror-pen" class="tool-icon icon-tool-vertical-mirror-pen" data-tool-id="tool-vertical-mirror-pen"></li>\n  <li id="tool-stroke" class="tool-icon icon-tool-stroke" data-tool-id="tool-stroke"></li>\n  <li id="tool-eraser" class="tool-icon icon-tool-eraser" data-tool-id="tool-eraser"></li>\n  <li id="tool-bucket" class="tool-icon icon-tool-paint-bucket" data-tool-id="tool-bucket"></li>\n  <li id="tool-colorswap" class="tool-icon icon-tool-colorswap" data-tool-id="tool-colorswap"></li>\n  <li id="tool-rectangle" class="tool-icon icon-tool-rectangle" data-tool-id="tool-rectangle"></li>\n  <li id="tool-circle" class="tool-icon icon-tool-circle" data-tool-id="tool-circle"></li>\n  <li id="tool-colorpicker" class="tool-icon icon-tool-colorpicker" data-tool-id="tool-colorpicker"></li>\n  <li id="tool-broom" class="tool-icon icon-tool-broom" data-tool-id="tool-broom"></li>\n  <li id="tool-move" class="tool-icon icon-tool-move" data-tool-id="tool-move"></li>\n  <li id="tool-shape-select" class="tool-icon icon-tool-shape-select" data-tool-id="tool-shape-select"></li>\n  <li id="tool-dithering" class="tool-icon icon-tool-dithering" data-tool-id="tool-dithering"></li>\n</ul>\n'},function(e,t){e.exports='<div class="preview-list-wrapper">\n  <div class="preview-list-scroller">\n    <ul class="preview-list">\n      <div class="add-frame-action">\n        <div class="add-frame-action-icon icon-frame-plus-white"></div>\n        <div class="label">Add new frame</div>\n      </div>\n    </ul>\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="preview-container">\n  <div class="canvas-container-wrapper">\n    <div class="canvas-container">\n      <div class="preview-actions">\n        <div class="preview-fullscreen-icon"></div>\n      </div>\n      <div class="preview-canvas-container">\n        <div class="canvas-background"></div>\n        <div class="background-image-frame-container"></div>\n      </div>\n    </div>\n  </div>\n  <div>\n    <span id="display-fps" class="display-fps">12 FPS</span>\n    <input id="preview-fps" class="range-fps" type="range" min="0" max="24">\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="settings-section">\n  <div class="settings-title">Resize</div>\n  <div class="list">\n    <form class="form-resize" id="canvas-resize" name="formResize">\n      <label>\n        <input id=\'width32\' type="radio" name="canvasSize" value="32">\n        <span class="resize-caption">32x32</span>\n      </label><br>\n      <label>\n        <input id=\'width64\' type="radio" name="canvasSize" value="64">\n        <span class="resize-caption">64x64</span>\n      </label><br>\n      <label>\n        <input id=\'width128\' type="radio" name="canvasSize" value="128">\n        <span class="resize-caption">128x128</span>\n      </label><br>\n      <input type="submit" value="Resize" class="button">\n    </form>\n  </div>\n</div>\n'},function(e,t){e.exports='<div class="palette-wrapper">\n  <input id="color-primary" class="palette-icon palette-color-primary" type="color" name="color-primary" value="#000000">\n  <input id="color-secondary" class="palette-icon palette-color-secondary" type="color" name="color-secondary" value="#ffffff">\n  <div class="swap-color-button"></div>\n</div>\n'},function(e,t,r){var n=r(12);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(t=e.exports=r(0)(!1)).i(r(13),""),t.push([e.i,'html {\n  font-size: 10px; }\n\nbody {\n  background: #1d1d1d;\n  height: 100%;\n  width: 100%;\n  overflow: hidden;\n  cursor: default;\n  font-family: "Arial", sans-serif;\n  font-size: 1.1rem;\n  line-height: 1.1;\n  user-select: none; }\n\n.header {\n  z-index: 999;\n  position: relative;\n  font-size: 1.6rem; }\n  .header .navigation {\n    height: 3rem; }\n    .header .navigation .player-name {\n      position: absolute;\n      left: 0;\n      width: 100%;\n      text-align: center;\n      font-size: 16pt;\n      color: #888888;\n      text-shadow: 0 -1px 0 #000000; }\n\n.main {\n  position: fixed;\n  top: 0.5rem;\n  right: 0;\n  bottom: 0.5rem;\n  left: 0;\n  margin-top: 4rem; }\n  .main .sticky-section {\n    position: fixed;\n    top: 0;\n    bottom: 0;\n    z-index: 1000; }\n  .main .left-sticky-section {\n    left: 0;\n    max-width: 10rem; }\n    .main .left-sticky-section .sticky-section-wrap {\n      display: flex;\n      justify-content: center;\n      align-items: center;\n      height: 100%; }\n  .main .right-sticky-section {\n    right: 0;\n    width: 4.7rem;\n    transition: all 200ms ease-out; }\n    .main .right-sticky-section .sticky-section-wrap {\n      display: flex;\n      width: 326px;\n      justify-content: center;\n      align-items: center;\n      height: 100%; }\n  .main .expanded {\n    right: 280px; }\n  .main .columns {\n    text-align: center;\n    font-size: 0;\n    display: flex;\n    position: absolute;\n    left: 100px;\n    top: 0;\n    right: 50px;\n    bottom: 0; }\n    .main .columns .left-column {\n      vertical-align: top;\n      height: 100%;\n      padding-right: 7px;\n      flex-shrink: 0; }\n    .main .columns .main-column {\n      height: 100%;\n      width: 100%;\n      position: relative;\n      overflow: hidden; }\n    .main .columns .right-column {\n      box-sizing: border-box;\n      vertical-align: top;\n      height: 100%;\n      flex-shrink: 0;\n      display: flex;\n      flex-direction: column;\n      position: relative;\n      padding-left: 10px;\n      padding-bottom: 20px; }\n\n.selected {\n  cursor: default;\n  background-color: #444444; }\n',""])},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\r\n\r\n/* Document\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Correct the line height in all browsers.\r\n * 2. Prevent adjustments of font size after orientation changes in iOS.\r\n */\r\n\r\nhtml {\r\n  line-height: 1.15; /* 1 */\r\n  -webkit-text-size-adjust: 100%; /* 2 */\r\n}\r\n\r\n/* Sections\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the margin in all browsers.\r\n */\r\n\r\nbody {\r\n  margin: 0;\r\n}\r\n\r\n/**\r\n * Render the `main` element consistently in IE.\r\n */\r\n\r\nmain {\r\n  display: block;\r\n}\r\n\r\n/**\r\n * Correct the font size and margin on `h1` elements within `section` and\r\n * `article` contexts in Chrome, Firefox, and Safari.\r\n */\r\n\r\nh1 {\r\n  font-size: 2em;\r\n  margin: 0.67em 0;\r\n}\r\n\r\n/* Grouping content\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Add the correct box sizing in Firefox.\r\n * 2. Show the overflow in Edge and IE.\r\n */\r\n\r\nhr {\r\n  box-sizing: content-box; /* 1 */\r\n  height: 0; /* 1 */\r\n  overflow: visible; /* 2 */\r\n}\r\n\r\n/**\r\n * 1. Correct the inheritance and scaling of font size in all browsers.\r\n * 2. Correct the odd `em` font sizing in all browsers.\r\n */\r\n\r\npre {\r\n  font-family: monospace, monospace; /* 1 */\r\n  font-size: 1em; /* 2 */\r\n}\r\n\r\n/* Text-level semantics\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the gray background on active links in IE 10.\r\n */\r\n\r\na {\r\n  background-color: transparent;\r\n}\r\n\r\n/**\r\n * 1. Remove the bottom border in Chrome 57-\r\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\r\n */\r\n\r\nabbr[title] {\r\n  border-bottom: none; /* 1 */\r\n  text-decoration: underline; /* 2 */\r\n  text-decoration: underline dotted; /* 2 */\r\n}\r\n\r\n/**\r\n * Add the correct font weight in Chrome, Edge, and Safari.\r\n */\r\n\r\nb,\r\nstrong {\r\n  font-weight: bolder;\r\n}\r\n\r\n/**\r\n * 1. Correct the inheritance and scaling of font size in all browsers.\r\n * 2. Correct the odd `em` font sizing in all browsers.\r\n */\r\n\r\ncode,\r\nkbd,\r\nsamp {\r\n  font-family: monospace, monospace; /* 1 */\r\n  font-size: 1em; /* 2 */\r\n}\r\n\r\n/**\r\n * Add the correct font size in all browsers.\r\n */\r\n\r\nsmall {\r\n  font-size: 80%;\r\n}\r\n\r\n/**\r\n * Prevent `sub` and `sup` elements from affecting the line height in\r\n * all browsers.\r\n */\r\n\r\nsub,\r\nsup {\r\n  font-size: 75%;\r\n  line-height: 0;\r\n  position: relative;\r\n  vertical-align: baseline;\r\n}\r\n\r\nsub {\r\n  bottom: -0.25em;\r\n}\r\n\r\nsup {\r\n  top: -0.5em;\r\n}\r\n\r\n/* Embedded content\r\n   ========================================================================== */\r\n\r\n/**\r\n * Remove the border on images inside links in IE 10.\r\n */\r\n\r\nimg {\r\n  border-style: none;\r\n}\r\n\r\n/* Forms\r\n   ========================================================================== */\r\n\r\n/**\r\n * 1. Change the font styles in all browsers.\r\n * 2. Remove the margin in Firefox and Safari.\r\n */\r\n\r\nbutton,\r\ninput,\r\noptgroup,\r\nselect,\r\ntextarea {\r\n  font-family: inherit; /* 1 */\r\n  font-size: 100%; /* 1 */\r\n  line-height: 1.15; /* 1 */\r\n  margin: 0; /* 2 */\r\n}\r\n\r\n/**\r\n * Show the overflow in IE.\r\n * 1. Show the overflow in Edge.\r\n */\r\n\r\nbutton,\r\ninput { /* 1 */\r\n  overflow: visible;\r\n}\r\n\r\n/**\r\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\r\n * 1. Remove the inheritance of text transform in Firefox.\r\n */\r\n\r\nbutton,\r\nselect { /* 1 */\r\n  text-transform: none;\r\n}\r\n\r\n/**\r\n * Correct the inability to style clickable types in iOS and Safari.\r\n */\r\n\r\nbutton,\r\n[type="button"],\r\n[type="reset"],\r\n[type="submit"] {\r\n  -webkit-appearance: button;\r\n}\r\n\r\n/**\r\n * Remove the inner border and padding in Firefox.\r\n */\r\n\r\nbutton::-moz-focus-inner,\r\n[type="button"]::-moz-focus-inner,\r\n[type="reset"]::-moz-focus-inner,\r\n[type="submit"]::-moz-focus-inner {\r\n  border-style: none;\r\n  padding: 0;\r\n}\r\n\r\n/**\r\n * Restore the focus styles unset by the previous rule.\r\n */\r\n\r\nbutton:-moz-focusring,\r\n[type="button"]:-moz-focusring,\r\n[type="reset"]:-moz-focusring,\r\n[type="submit"]:-moz-focusring {\r\n  outline: 1px dotted ButtonText;\r\n}\r\n\r\n/**\r\n * Correct the padding in Firefox.\r\n */\r\n\r\nfieldset {\r\n  padding: 0.35em 0.75em 0.625em;\r\n}\r\n\r\n/**\r\n * 1. Correct the text wrapping in Edge and IE.\r\n * 2. Correct the color inheritance from `fieldset` elements in IE.\r\n * 3. Remove the padding so developers are not caught out when they zero out\r\n *    `fieldset` elements in all browsers.\r\n */\r\n\r\nlegend {\r\n  box-sizing: border-box; /* 1 */\r\n  color: inherit; /* 2 */\r\n  display: table; /* 1 */\r\n  max-width: 100%; /* 1 */\r\n  padding: 0; /* 3 */\r\n  white-space: normal; /* 1 */\r\n}\r\n\r\n/**\r\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\r\n */\r\n\r\nprogress {\r\n  vertical-align: baseline;\r\n}\r\n\r\n/**\r\n * Remove the default vertical scrollbar in IE 10+.\r\n */\r\n\r\ntextarea {\r\n  overflow: auto;\r\n}\r\n\r\n/**\r\n * 1. Add the correct box sizing in IE 10.\r\n * 2. Remove the padding in IE 10.\r\n */\r\n\r\n[type="checkbox"],\r\n[type="radio"] {\r\n  box-sizing: border-box; /* 1 */\r\n  padding: 0; /* 2 */\r\n}\r\n\r\n/**\r\n * Correct the cursor style of increment and decrement buttons in Chrome.\r\n */\r\n\r\n[type="number"]::-webkit-inner-spin-button,\r\n[type="number"]::-webkit-outer-spin-button {\r\n  height: auto;\r\n}\r\n\r\n/**\r\n * 1. Correct the odd appearance in Chrome and Safari.\r\n * 2. Correct the outline style in Safari.\r\n */\r\n\r\n[type="search"] {\r\n  -webkit-appearance: textfield; /* 1 */\r\n  outline-offset: -2px; /* 2 */\r\n}\r\n\r\n/**\r\n * Remove the inner padding in Chrome and Safari on macOS.\r\n */\r\n\r\n[type="search"]::-webkit-search-decoration {\r\n  -webkit-appearance: none;\r\n}\r\n\r\n/**\r\n * 1. Correct the inability to style clickable types in iOS and Safari.\r\n * 2. Change font properties to `inherit` in Safari.\r\n */\r\n\r\n::-webkit-file-upload-button {\r\n  -webkit-appearance: button; /* 1 */\r\n  font: inherit; /* 2 */\r\n}\r\n\r\n/* Interactive\r\n   ========================================================================== */\r\n\r\n/*\r\n * Add the correct display in Edge, IE 10+, and Firefox.\r\n */\r\n\r\ndetails {\r\n  display: block;\r\n}\r\n\r\n/*\r\n * Add the correct display in all browsers.\r\n */\r\n\r\nsummary {\r\n  display: list-item;\r\n}\r\n\r\n/* Misc\r\n   ========================================================================== */\r\n\r\n/**\r\n * Add the correct display in IE 10+.\r\n */\r\n\r\ntemplate {\r\n  display: none;\r\n}\r\n\r\n/**\r\n * Add the correct display in IE 10.\r\n */\r\n\r\n[hidden] {\r\n  display: none;\r\n}\r\n',""])},function(e,t){e.exports=function(e){var t="undefined"!=typeof window&&window.location;if(!t)throw new Error("fixUrls requires window.location");if(!e||"string"!=typeof e)return e;var r=t.protocol+"//"+t.host,n=r+t.pathname.replace(/\/[^\/]*$/,"/");return e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var o,i=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});return/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(i)?e:(o=0===i.indexOf("//")?i:0===i.indexOf("/")?r+i:n+i.replace(/^\.\//,""),"url("+JSON.stringify(o)+")")})}},function(e,t,r){var n=r(16);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2),o=n(r(17)),i=n(r(18)),s=n(r(19)),a=n(r(20)),l=n(r(21)),c=n(r(22)),d=n(r(23)),p=n(r(24)),h=n(r(25));t.push([e.i,".tools-wrapper {\n  list-style: none;\n  display: inline-block;\n  padding-inline-start: 0; }\n  .tools-wrapper .tool-icon {\n    float: left;\n    width: 46px;\n    height: 46px;\n    position: relative;\n    margin: 1px;\n    background-image: url("+o+');\n    background-color: #3a3a3a; }\n  .tools-wrapper .tool-icon.selected::before {\n    content: "";\n    position: absolute;\n    height: 100%;\n    width: 100%;\n    border: 3px solid gold;\n    box-sizing: border-box; }\n  .tools-wrapper .tool-icon:hover {\n    background-color: #444444;\n    cursor: pointer; }\n  .tools-wrapper .icon-tool-paint-bucket {\n    background-position: -228px -92px; }\n  .tools-wrapper .icon-tool-pen {\n    background-position: -182px -92px; }\n  .tools-wrapper .icon-tool-eraser {\n    background-position: -46px -228px; }\n  .tools-wrapper .icon-tool-colorswap {\n    background-position: -228px -138px; }\n  .tools-wrapper .icon-tool-vertical-mirror-pen {\n    background-position: 0 -136px; }\n  .tools-wrapper .icon-tool-colorpicker {\n    background-position: -274px 0; }\n  .tools-wrapper .icon-tool-stroke {\n    background-position: -46px -136px; }\n  .tools-wrapper .icon-tool-broom {\n    background-image: url('+i+");\n    height: 46px;\n    width: 46px; }\n  .tools-wrapper .icon-tool-move {\n    background-position: -184px -228px; }\n  .tools-wrapper .icon-tool-rectangle {\n    background-position: -182px 0; }\n  .tools-wrapper .icon-tool-circle {\n    background-position: -228px -46px; }\n  .tools-wrapper .icon-tool-dithering {\n    background-position: 0 -228px; }\n  .tools-wrapper .icon-tool-shape-select {\n    background-position: -92px -136px; }\n\n.pen-cursor,\n.tool-vertical-mirror-pen,\n.icon-tool-stroke {\n  cursor: url("+s+"), auto; }\n\n.eraser-cursor {\n  cursor: url("+a+") 0 20, auto; }\n\n.bucket-cursor {\n  cursor: url("+l+") 0 20, auto; }\n\n.colorpicker-cursor {\n  cursor: url("+c+") 0 20, auto; }\n\n.broom-cursor {\n  cursor: url("+d+") 0 20, auto; }\n\n.move-cursor {\n  cursor: grab; }\n\n.default-cursor {\n  cursor: default; }\n\n.cross-cursor {\n  cursor: crosshair; }\n\n.dithering-cursor {\n  cursor: url("+p+") 0 20, auto; }\n\n.shape-select-cursor {\n  cursor: url("+h+"), auto; }\n\n.invisible {\n  visibility: hidden; }\n",""])},function(e,t,r){e.exports=r.p+"./images/icons.png"},function(e,t,r){e.exports=r.p+"./images/broom.svg"},function(e,t,r){e.exports=r.p+"./images/pen-cursor.png"},function(e,t,r){e.exports=r.p+"./images/eraser-cursor.png"},function(e,t,r){e.exports=r.p+"./images/bucket-cursor.png"},function(e,t,r){e.exports=r.p+"./images/color-picker.png"},function(e,t,r){e.exports=r.p+"./images/broom.png"},function(e,t,r){e.exports=r.p+"./images/dithering.png"},function(e,t,r){e.exports=r.p+"./images/magic-wand.png"},function(e,t,r){var n=r(27);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2),o=n(r(28)),i=n(r(29));t.push([e.i,".preview-list-wrapper {\n  position: relative;\n  height: 100%;\n  overflow: hidden; }\n  .preview-list-wrapper .preview-list-scroller {\n    overflow-y: scroll;\n    overflow-x: hidden;\n    height: 100%; }\n    .preview-list-wrapper .preview-list-scroller .preview-list {\n      list-style-type: none;\n      padding-right: 9px;\n      padding-inline-start: 0; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile {\n        position: relative;\n        border: #444444 3px solid;\n        border-radius: 3px;\n        margin: 5px 0;\n        width: 96px;\n        height: 96px; }\n        .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .selected {\n          border-color: gold; }\n        .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container {\n          position: static;\n          display: block; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .canvas-background {\n            position: absolute;\n            top: 0;\n            right: 0;\n            bottom: 0;\n            left: 0;\n            background: url("+o+"); }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .tile-view {\n            position: absolute;\n            z-index: 1;\n            margin-left: auto;\n            margin-right: auto;\n            left: 0;\n            right: 0;\n            top: 0; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .tile-view:hover {\n            cursor: grab; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .icon-frame-duplicate-white {\n            background-image: url("+i+");\n            background-position: -274px -76px;\n            width: 30px;\n            height: 30px; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .icon-frame-recyclebin-white {\n            background-image: url("+i+");\n            background-position: -274px -106px;\n            width: 30px;\n            height: 30px; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .duplicate-frame-action {\n            bottom: 0;\n            right: 0;\n            border-bottom-left-radius: 3px;\n            cursor: pointer; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .delete-frame-action {\n            top: 0;\n            right: 0;\n            border-bottom-left-radius: 3px;\n            cursor: pointer; }\n          .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile .canvas-container .tile-overlay {\n            z-index: 10;\n            position: absolute;\n            background-color: rgba(100, 100, 100, 0.6);\n            opacity: 1;\n            height: 30px;\n            width: 30px;\n            border: none; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile:first-child {\n        margin-top: 0; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile.selected {\n        border-color: gold; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .preview-tile-drop-proxy {\n        border-color: gold;\n        background: rgba(250, 215, 0, 0.1);\n        border-style: dashed; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .add-frame-action {\n        display: flex;\n        align-items: center;\n        margin-top: 8px;\n        padding: 6px 0;\n        overflow: hidden;\n        width: 96px;\n        border: #888888 solid 3px;\n        border-radius: 4px;\n        color: #888888;\n        background-color: #222222;\n        font-size: 13px;\n        cursor: pointer; }\n        .preview-list-wrapper .preview-list-scroller .preview-list .add-frame-action .add-frame-action-icon {\n          margin: 3px;\n          float: left;\n          flex-shrink: 0; }\n        .preview-list-wrapper .preview-list-scroller .preview-list .add-frame-action .icon-frame-plus-white {\n          background-image: url("+i+");\n          background-position: -274px -157px;\n          width: 26px;\n          height: 26px; }\n        .preview-list-wrapper .preview-list-scroller .preview-list .add-frame-action .label {\n          overflow: hidden;\n          text-align: left; }\n      .preview-list-wrapper .preview-list-scroller .preview-list .add-frame-action:hover {\n        border-color: gold; }\n",""])},function(e,t,r){e.exports=r.p+"./images/canvas-background.png"},function(e,t,r){e.exports=r.p+"./images/icons.png"},function(e,t,r){var n=r(31);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2)(r(32));t.push([e.i,".drawing-canvas-container {\n  position: relative;\n  display: block;\n  font-size: 0; }\n  .drawing-canvas-container .canvas-background {\n    background: url("+n+");\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    top: 0; }\n  .drawing-canvas-container .drawing-canvas,\n  .drawing-canvas-container .helper-canvas {\n    position: absolute;\n    margin-left: auto;\n    margin-right: auto;\n    left: 0;\n    right: 0;\n    top: 0;\n    z-index: 9; }\n  .drawing-canvas-container .helper-canvas {\n    z-index: 8; }\n",""])},function(e,t,r){e.exports=r.p+"./images/canvas-background.png"},function(e,t,r){var n=r(34);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2),o=n(r(35)),i=n(r(36));t.push([e.i,".preview-container {\n  background: #333333;\n  border-radius: 0 0 2px 2px;\n  overflow: hidden;\n  flex-shrink: 0;\n  border: 0 solid black;\n  box-shadow: 0 0 2px rgba(0, 0, 0, 0.2);\n  font-size: 0; }\n  .preview-container .canvas-container-wrapper {\n    height: 200px;\n    width: 200px;\n    overflow: hidden; }\n    .preview-container .canvas-container-wrapper .canvas-container {\n      height: 200px;\n      width: 200px;\n      margin: 0;\n      overflow: hidden;\n      position: relative;\n      display: block; }\n      .preview-container .canvas-container-wrapper .canvas-container .preview-actions {\n        position: absolute;\n        z-index: 500;\n        right: 10px;\n        top: 10px;\n        cursor: pointer;\n        border: 2px solid rgba(100, 100, 100, 0.6); }\n        .preview-container .canvas-container-wrapper .canvas-container .preview-actions .preview-fullscreen-icon {\n          width: 18px;\n          height: 18px;\n          background-image: url("+o+");\n          background-position: 0 0;\n          background-size: 18px 18px; }\n      .preview-container .canvas-container-wrapper .canvas-container .preview-actions:hover {\n        border-color: gold; }\n      .preview-container .canvas-container-wrapper .canvas-container .preview-canvas-container {\n        height: 200px;\n        width: 200px;\n        margin: 0; }\n        .preview-container .canvas-container-wrapper .canvas-container .preview-canvas-container .canvas-background {\n          background: url("+i+");\n          position: absolute;\n          top: 0;\n          right: 0;\n          bottom: 0;\n          left: 0; }\n        .preview-container .canvas-container-wrapper .canvas-container .preview-canvas-container .background-image-frame-container {\n          height: 100%;\n          width: 100%;\n          position: relative;\n          background-position: center; }\n  .preview-container .display-fps {\n    float: left;\n    color: #aaaaaa;\n    font-size: 12px;\n    min-width: 55px;\n    vertical-align: bottom;\n    line-height: 26px; }\n  .preview-container .range-fps {\n    overflow: hidden;\n    width: 100px;\n    height: 26px;\n    margin: 0;\n    box-sizing: border-box; }\n",""])},function(e,t,r){e.exports=r.p+"./images/resize.png"},function(e,t,r){e.exports=r.p+"./images/canvas-background.png"},function(e,t,r){var n=r(38);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2)(r(39));t.push([e.i,".settings-icons .settings-icon {\n  position: relative;\n  cursor: pointer;\n  width: 46px;\n  height: 46px;\n  margin: 0;\n  background-color: #3a3a3a; }\n\n.settings-icons .settings-icon:hover {\n  background-color: #444444; }\n\n.settings-icons .icon-settings-resize {\n  background-image: url("+n+");\n  background-position: -138px -182px; }\n\n.settings-icons .has-expanded-drawer {\n  border-left: 3px solid gold; }\n\n.drawer {\n  background-color: #444444;\n  height: 550px;\n  max-height: 100%;\n  width: 280px;\n  border-top-left-radius: 4px;\n  border-bottom-left-radius: 4px;\n  box-shadow: 0 0 5px 0 black; }\n  .drawer .settings-section {\n    margin: 10px 20px;\n    font-size: 12px;\n    font-weight: bold;\n    color: #cccccc; }\n  .drawer .settings-title {\n    margin-top: 20px;\n    margin-bottom: 10px;\n    text-transform: uppercase;\n    border-bottom: 1px #aaaaaa solid;\n    padding-bottom: 5px;\n    color: gold; }\n  .drawer .button {\n    box-sizing: border-box;\n    height: 24px;\n    background-color: gold;\n    border-style: none;\n    border-radius: 2px;\n    cursor: pointer;\n    text-decoration: none;\n    color: black;\n    font-weight: bold;\n    font-size: 1.2rem;\n    text-align: center;\n    transition: background-color 0.2s linear;\n    margin-top: 1.5rem; }\n  .drawer .button:hover {\n    background-color: white; }\n",""])},function(e,t,r){e.exports=r.p+"./images/icons.png"},function(e,t,r){var n=r(41);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,".form-resize {\n  line-height: normal; }\n  .form-resize input {\n    vertical-align: middle;\n    margin: 10px auto; }\n  .form-resize label {\n    display: inline-block;\n    vertical-align: middle; }\n  .form-resize .resize-caption {\n    display: inline-block;\n    vertical-align: middle;\n    margin-left: 10px; }\n",""])},function(e,t,r){var n=r(43);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){t=e.exports=r(0)(!1);var n=r(2)(r(44));t.push([e.i,".palette-wrapper {\n  margin-top: 10px;\n  margin-left: 10px; }\n  .palette-wrapper .palette-icon {\n    display: block;\n    position: relative;\n    padding: 0 2px;\n    cursor: pointer;\n    border-width: 0;\n    background-color: #3a3a3a;\n    width: 44px;\n    height: 46px; }\n  .palette-wrapper .palette-color-primary {\n    margin-top: 0;\n    z-index: 100; }\n  .palette-wrapper .palette-color-secondary {\n    z-index: 90;\n    margin-top: -18px;\n    margin-left: 30px; }\n  .palette-wrapper .swap-color-button {\n    width: 18px;\n    height: 18px;\n    margin-top: -22px;\n    margin-left: 4px;\n    background-image: url("+n+");\n    background-position: -274px -222px;\n    cursor: pointer;\n    opacity: 0.3; }\n  .palette-wrapper .swap-color-button:hover {\n    opacity: 1; }\n  .palette-wrapper .palette-icon:hover {\n    background-color: #444444; }\n",""])},function(e,t,r){e.exports=r.p+"./images/icons.png"},function(e,t,r){var n=r(46);"string"==typeof n&&(n=[[e.i,n,""]]);var o={hmr:!0,transform:void 0,insertInto:void 0};r(1)(n,o);n.locals&&(e.exports=n.locals)},function(e,t,r){(e.exports=r(0)(!1)).push([e.i,".cursor-coordinates {\n  position: absolute;\n  bottom: 0;\n  color: gold;\n  font-size: 12px;\n  font-weight: bold;\n  font-family: monospace; }\n",""])},function(e,t,r){"use strict";r.r(t);var n=r(5),o=(r(11),r(6));r(15);class i{static htmlToDocFragment(e){const t=document.createElement("template");return t.innerHTML=e,t.content}static calculateZoom(e,t){let r=1;const n=document.querySelector(".main-column");if(n){const o=n.clientHeight,i=n.clientWidth;r=Math.floor(Math.min(o,i)/Math.min(e,t))}return r}static resizeCanvasBackground(e,t,r){const n=e;n.querySelector(".canvas-background").style.width=`${t}px`,n.querySelector(".canvas-background").style.height=`${r}px`}static reorderFrames(e,t,r){const n=e.frames.splice(t,1)[0];e.frames.splice(r,0,n),e.setCurrentFrame(r)}static renumberTiles(e,t){document.querySelectorAll(".preview-tile").forEach((r,n)=>{const o=r,i=Number(r.dataset.tileNumber);"more"===t&&i>e&&(o.dataset.tileNumber=`${i+1}`),"less"===t&&i>e&&(o.dataset.tileNumber=`${i-1}`),"reorder"===t&&(o.dataset.tileNumber=`${n}`)})}static deleteClassFromItems(e,t){document.querySelectorAll(`.${e}`).forEach(e=>{e.classList.remove(t)})}static redrawMainCanvas(e,t){const r=document.querySelector(".drawing-canvas"),n=r.getContext("2d");if(n.imageSmoothingEnabled=!1,0!==e.frames[t]){const t=new Image;t.src=e.frames[e.currentFrame],n.clearRect(0,0,r.width,r.height),n.drawImage(t,0,0,r.width,r.height)}else n.clearRect(0,0,r.width,r.height)}static copyCanvasToPreview(e){const t=document.querySelector(".drawing-canvas"),r=document.querySelectorAll(`[data-tile-number='${e.getCurrentFrame()}']`)[0].querySelector(".tile-view").getContext("2d");r.imageSmoothingEnabled=!1,r.drawImage(t,0,0,96,96)}static changePreviewBackground(e){document.querySelector(".background-image-frame-container").style=`background-repeat: no-repeat; background-size: contain; background-image: url(${e})`}static calcStraightLine(e){const t=[];let{startX:r,startY:n}=e;const{endX:o,endY:i}=e,s=Math.abs(o-r),a=Math.abs(i-n),l=r<o?1:-1,c=n<i?1:-1;let d=s-a;for(t.push({x1:r,y1:n});r!==o||n!==i;){const e=2*d;e>-a&&(d-=a,r+=l),e<s&&(d+=s,n+=c),t.push({x1:r,y1:n})}return t}static drawCell(e,t,r,n){t.fillStyle=n,t.fillRect(e.x1*r,e.y1*r,r,r)}static fillPixels(e,t,r,n){e.forEach(e=>this.drawCell(e,t,r,n))}static eraseCell(e,t,r){t.clearRect(e.x1*r,e.y1*r,r,r)}static eraseLine(e,t,r){e.forEach(e=>this.eraseCell(e,t,r))}static hideSettingsPanel(e,t){(e.target.closest(".drawer")||e.target.closest(".settings-icons"))&&!0!==t||(document.querySelector(".has-expanded-drawer").classList.remove("has-expanded-drawer"),document.querySelector(".right-sticky-section").classList.remove("expanded"),document.removeEventListener("pointerup",i.hideSettingsPanel))}static nullXY(e){const t=e;t.prevX=void 0,t.prevY=void 0}static removeClassesWithRegex(e,t){for(let r=e.classList.length-1;r>0;r-=1)t.test(e.classList[r])&&e.classList.remove(e.classList[r])}static matchStartColor(e,t,r,n,o,i){const s=t.data[e],a=t.data[e+1],l=t.data[e+2],c=t.data[e+3];return s===r&&a===n&&l===o&&c===i}static colorPixel(e,t,r,n){const o=t;for(let t=0;t<r.zoom;t+=1)o.data[e+t]=n,o.data[e+1+t]=n,o.data[e+2+t]=n,o.data[e+3+t]=n,o.data[e+3+t]=n}static findNearSameColorCoords(e,t,r,n){const o=t.getImageData(r*e.zoom,n*e.zoom,1,1).data;let i=255;const[s,a,l,c]=[o[0],o[1],o[2],o[3]];c===i&&(i=200);const d=t.getImageData(0,0,e.width*e.zoom,e.width*e.zoom),p=[[r,n]],h=[];for(;p.length;){let t,r,n;const o=p.pop(),[m]=[o[0]];let[u]=[o[1]];for(t=4*(u*e.width*e.zoom*e.zoom+m*e.zoom);u>=0&&this.matchStartColor(t,d,s,a,l,c);)u-=1,t-=e.width*e.zoom*e.zoom*4;for(u+=1,t+=e.width*e.zoom*e.zoom*4,r=!1,n=!1;u+1<e.width+1&&this.matchStartColor(t,d,s,a,l,c);)h.push({x1:m,y1:u}),this.colorPixel(t,d,e,i),m>0&&(this.matchStartColor(t-4*e.zoom,d,s,a,l,c)?r||(p.push([m-1,u]),r=!0):r&&(r=!1)),m<e.width-1&&(this.matchStartColor(t+4*e.zoom,d,s,a,l,c)?n||(p.push([m+1,u]),n=!0):n&&(n=!1)),t+=e.width*e.zoom*e.zoom*4,u+=1}return h}static findSameColorCoords(e,t,r,n){const o=t.getImageData(r*e.zoom,n*e.zoom,1,1).data,i=t.getImageData(0,0,e.width*e.zoom,e.width*e.zoom);let s=255;const[a,l,c,d]=[o[0],o[1],o[2],o[3]];let p;d===s&&(s=200);const h=[];for(let t=0;t<e.width;t+=1)for(let r=0;r<e.height;r+=1)p=4*(r*e.width*e.zoom*e.zoom+t*e.zoom),this.matchStartColor(p,i,a,l,c,d)&&h.push({x1:t,y1:r});return h}static mirrorCoords(e,t){const r=[];return e.forEach(e=>{const n=t-(e.x1+1);n!==e.x1&&r.push({x1:n,y1:e.y1})}),r.concat(e)}static updateCursorCoordinates(e){document.querySelector(".cursor-coordinates").innerText=`[${e.width}x${e.width}]  `}static RGBAtoHEX(e,t,r){let n=e.toString(16),o=t.toString(16),i=r.toString(16);return 1===n.length&&(n=`0${n}`),1===o.length&&(o=`0${o}`),1===i.length&&(i=`0${i}`),`#${n}${o}${i}`}static checkPixelTransparency(e,t,r,n){return 0===t.getImageData(r*e.zoom,n*e.zoom,1,1).data[3]}static getColorFromPixel(e,t,r,n){const o=t.getImageData(r*e.zoom,n*e.zoom,1,1).data,[i,s,a]=[o[0],o[1],o[2]];return this.RGBAtoHEX(i,s,a)}static checkIfCoordsChanged(e,t,r){return t!==e.prevX||r!==e.prevY}static calcRectanglePixelsCoords(e,t,r){const n=this.calcStraightLine({startX:e.startStrokeX,startY:e.startStrokeY,endX:t,endY:e.startStrokeY}),o=this.calcStraightLine({startX:e.startStrokeX,startY:r,endX:t,endY:r}),i=this.calcStraightLine({startX:t,startY:e.startStrokeY,endX:t,endY:r}),s=this.calcStraightLine({startX:e.startStrokeX,startY:e.startStrokeY,endX:e.startStrokeX,endY:r});return n.concat(o).concat(i).concat(s)}static calcCirclePixelsCoords(e,t,r){const n=Math.min(e.startStrokeX,t),o=Math.min(e.startStrokeY,r),i=Math.max(e.startStrokeX,t),s=Math.max(e.startStrokeY,r),a=Math.round((n+i)/2),l=Math.round((o+s)/2),c=[],d=(i+n)%2,p=(s+o)%2,h=i-a,m=s-l;let u,v,g;for(u=n;u<=a;u+=1)g=Math.acos((u-a)/h),v=Math.round(m*Math.sin(g)+l),c.push({x1:u-d,y1:v}),c.push({x1:u-d,y1:2*l-v-p}),c.push({x1:2*a-u,y1:v}),c.push({x1:2*a-u,y1:2*l-v-p});for(v=o;v<=l;v+=1)g=Math.asin((v-l)/m),u=Math.round(h*Math.cos(g)+a),c.push({x1:u,y1:v-p}),c.push({x1:2*a-u-d,y1:v-p}),c.push({x1:u,y1:2*l-v}),c.push({x1:2*a-u-d,y1:2*l-v});return c}static updatePixelsToFillCoords(e,t,r){e.pixelsToFill.forEach(e=>{const n=e;n.x1+=t,n.y1+=r})}static updatePreview(e){const t=e,r=document.querySelector(".drawing-canvas");t.frames[t.getCurrentFrame()]=r.toDataURL();const n=document.querySelectorAll(`[data-tile-number='${t.getCurrentFrame()}']`)[0].querySelector(".tile-view").getContext("2d");n.clearRect(0,0,96,96),n.drawImage(r,0,0,96,96),0===t.fps&&i.changePreviewBackground(t.frames[t.currentFrame])}static copyArrayWithCoords(e){const t=[];return e.forEach(e=>{const r={x1:e.x1,y1:e.y1};t.push(r)}),t}}class s{constructor(e){this.model=e,this.html=o,this.utils=i}render(){const e=document.createElement("template");return e.innerHTML=this.html,e.content}changeTool(e){if(e.target.classList.contains("tool-icon")){this.model.currentTool=e.target.dataset.toolId,this.utils.deleteClassFromItems("tool-icon","selected"),e.target.classList.add("selected");const t=document.querySelector(".drawing-canvas"),r=document.querySelector(".helper-canvas");switch(this.model.currentTool){case"tool-pen":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("pen-cursor");break;case"tool-bucket":case"tool-colorswap":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("bucket-cursor");break;case"tool-eraser":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("eraser-cursor");break;case"tool-vertical-mirror-pen":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("pen-cursor");break;case"tool-stroke":i.removeClassesWithRegex(t,/-cursor/),i.removeClassesWithRegex(r,/-cursor/),t.classList.add("pen-cursor"),r.classList.add("pen-cursor");break;case"tool-colorpicker":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("colorpicker-cursor");break;case"tool-broom":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("broom-cursor");break;case"tool-move":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("move-cursor");break;case"tool-rectangle":case"tool-circle":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("cross-cursor");break;case"tool-dithering":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("dithering-cursor");break;case"tool-shape-select":i.removeClassesWithRegex(t,/-cursor/),t.classList.add("move-cursor"),i.removeClassesWithRegex(r,/-cursor/),r.classList.add("move-cursor")}}}documentUpEventHandler(){if(this.model.getCanvasDrawStatus()){const e=document.querySelector(".helper-canvas"),t=document.querySelector(".helper-canvas").getContext("2d"),r=document.querySelector(".drawing-canvas").getContext("2d");"tool-stroke"!==this.model.currentTool&&"tool-rectangle"!==this.model.currentTool&&"tool-circle"!==this.model.currentTool||(this.model.setCanvasDrawStatus(!1),this.model.startStrokeX=void 0,this.model.startStrokeY=void 0,e.style.zIndex="8",t.clearRect(0,0,this.model.width*this.model.zoom,this.model.height*this.model.zoom),this.model.pixelsToFill&&i.fillPixels(this.model.pixelsToFill,r,this.model.getZoom(),this.model.getColor()),i.updatePreview(this.model),this.model.pixelsToFill=void 0,this.model.prevX=void 0,this.model.prevY=void 0),"tool-move"===this.model.currentTool&&(this.model.setCanvasDrawStatus(!1),t.clearRect(0,0,this.model.width*this.model.zoom,this.model.width*this.model.zoom),e.classList.remove("invisible"),this.dragDeltaX=0,this.dragDeltaY=0),"tool-shape-select"===this.model.currentTool&&this.model.selected&&(this.model.selected=!1,this.model.setCanvasDrawStatus(!1),this.model.shiftPressed&&i.eraseLine(this.model.initialPixelsToFill,r,this.model.zoom),i.eraseLine(this.model.pixelsToFill,t,this.model.zoom),i.fillPixels(this.model.pixelsToFill,r,this.model.zoom,this.model.penColor),i.updatePreview(this.model),e.style.zIndex="8",this.model.dragDeltaX=0,this.model.dragDeltaY=0,this.model.pixelsToFill=void 0,this.model.prevX=void 0,this.model.prevY=void 0,this.model.initialPixelsToFill=void 0,this.model.colorSelectActive=void 0)}}canvasDownEventHandler(e){this.model.setCanvasDrawStatus(!0);const t=document.querySelector(".drawing-canvas"),r=t.getContext("2d"),n=document.querySelector(".helper-canvas"),o=n.getContext("2d");r.imageSmoothingEnabled=!1;const s=t.getBoundingClientRect(),a=this.model.getZoom(),l=Math.floor((e.clientX-s.left)/a),c=Math.floor((e.clientY-s.top)/a);if("tool-pen"===this.model.currentTool&&i.drawCell({x1:l,y1:c},r,a,this.model.getColor()),"tool-eraser"===this.model.currentTool&&i.eraseCell({x1:l,y1:c},r,a),"tool-bucket"===this.model.currentTool){const e=i.findNearSameColorCoords(this.model,r,l,c);i.fillPixels(e,r,this.model.zoom,this.model.penColor)}if("tool-colorswap"===this.model.currentTool){const e=i.findSameColorCoords(this.model,r,l,c);i.fillPixels(e,r,this.model.zoom,this.model.penColor)}if("tool-vertical-mirror-pen"===this.model.currentTool){const e=i.mirrorCoords([{x1:l,y1:c}],this.model.width);i.fillPixels(e,r,a,this.model.getColor())}if("tool-colorpicker"===this.model.currentTool){const e=i.getColorFromPixel(this.model,r,l,c);this.model.penColor=e,document.getElementById("color-primary").value=e}if("tool-stroke"!==this.model.currentTool&&"tool-rectangle"!==this.model.currentTool||(this.model.startStrokeX=l,this.model.startStrokeY=c,n.style.zIndex="10",this.model.pixelsToFill=[{x1:l,y1:c}],i.fillPixels(this.model.pixelsToFill,o,a,this.model.getColor())),"tool-circle"===this.model.currentTool&&(n.style.zIndex="10",this.model.startStrokeX=l,this.model.startStrokeY=c),"tool-broom"===this.model.currentTool&&r.clearRect(0,0,this.model.width*this.model.zoom,this.model.width*this.model.zoom),"tool-move"===this.model.currentTool&&(n.classList.add("invisible"),o.drawImage(t,0,0),this.model.dragDeltaX=l,this.model.dragDeltaY=c),"tool-shape-select"===this.model.currentTool){i.checkPixelTransparency(this.model,r,l,c)||(this.model.colorSelectActive=i.getColorFromPixel(this.model,r,l,c),this.model.selected=!0,this.model.startStrokeX=l,this.model.startStrokeY=c,this.model.pixelsToFill=i.findNearSameColorCoords(this.model,r,l,c),this.model.initialPixelsToFill=i.copyArrayWithCoords(this.model.pixelsToFill),n.style.zIndex="10",i.fillPixels(this.model.pixelsToFill,o,this.model.zoom,this.model.colorSelectHelper))}}canvasUpEventHandler(){if(this.model.getCanvasDrawStatus()){this.model.setCanvasDrawStatus(!1);const e=document.querySelector(".drawing-canvas");this.model.frames[this.model.getCurrentFrame()]=e.toDataURL();const t=document.querySelectorAll(`[data-tile-number='${this.model.getCurrentFrame()}']`)[0].querySelector(".tile-view").getContext("2d");t.clearRect(0,0,96,96),t.drawImage(e,0,0,96,96),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame]),this.model.prevX=void 0,this.model.prevY=void 0}}canvasMoveEventHandler(e){const t=document.querySelector(".drawing-canvas"),r=document.querySelector(".helper-canvas"),n=r.getContext("2d"),o=t.getBoundingClientRect(),s=this.model.getZoom(),a=Math.floor((e.clientX-o.left)/s),l=Math.floor((e.clientY-o.top)/s);this.model.currentX=a,this.model.currentY=l;const c=t.getContext("2d"),d=i.checkIfCoordsChanged(this.model,a,l);if(this.model.getCanvasDrawStatus()){if(this.model.prevX>=0){const e=i.calcStraightLine({startX:this.model.prevX,startY:this.model.prevY,endX:a,endY:l});if("tool-pen"===this.model.currentTool&&i.fillPixels(e,c,s,this.model.getColor()),"tool-eraser"===this.model.currentTool&&i.eraseLine(e,c,s),"tool-vertical-mirror-pen"===this.model.currentTool){const t=i.mirrorCoords(e,this.model.width);i.fillPixels(t,c,s,this.model.getColor())}}if("tool-stroke"===this.model.currentTool&&d){const e=i.calcStraightLine({startX:this.model.startStrokeX,startY:this.model.startStrokeY,endX:a,endY:l});this.model.pixelsToFill&&i.eraseLine(this.model.pixelsToFill,n,s),this.model.pixelsToFill=e,i.fillPixels(this.model.pixelsToFill,n,s,this.model.getColor())}if("tool-rectangle"===this.model.currentTool&&d){const e=i.calcRectanglePixelsCoords(this.model,a,l);this.model.pixelsToFill&&i.eraseLine(this.model.pixelsToFill,n,s),this.model.pixelsToFill=e,i.fillPixels(this.model.pixelsToFill,n,s,this.model.getColor())}if("tool-circle"===this.model.currentTool&&d){const e=i.calcCirclePixelsCoords(this.model,a,l);this.model.pixelsToFill&&i.eraseLine(this.model.pixelsToFill,n,s),this.model.pixelsToFill=e,i.fillPixels(this.model.pixelsToFill,n,s,this.model.getColor())}if("tool-move"===this.model.currentTool&&d&&this.model.prevX&&this.model.prevY){const e=this.model.width*this.model.zoom,t=(a-this.model.dragDeltaX)*this.model.zoom,n=(l-this.model.dragDeltaY)*this.model.zoom;c.clearRect(0,0,e,e),c.drawImage(r,0,0,e,e,t,n,e,e)}if("tool-dithering"===this.model.currentTool&&d&&(a%2==0&&l%2==0||a%2!=0&&l%2!=0?i.eraseCell({x1:a,y1:l},c,s):i.drawCell({x1:a,y1:l},c,s,this.model.penColor)),"tool-shape-select"===this.model.currentTool&&d&&this.model.prevX&&this.model.prevY&&this.model.selected){const e=this.model.width*this.model.zoom;this.model.dragDeltaX=a-this.model.prevX,this.model.dragDeltaY=l-this.model.prevY,i.updatePixelsToFillCoords(this.model,this.model.dragDeltaX,this.model.dragDeltaY),n.clearRect(0,0,e,e),i.fillPixels(this.model.pixelsToFill,n,s,this.model.colorSelectHelper)}this.model.prevX=a,this.model.prevY=l}}init(){document.querySelector(".tools-wrapper").addEventListener("pointerup",this.changeTool.bind(this)),document.addEventListener("pointerup",this.documentUpEventHandler.bind(this)),document.addEventListener("keydown",e=>{"Shift"===e.key&&(this.model.shiftPressed=!0)}),document.addEventListener("keyup",e=>{"Shift"===e.key&&(this.model.shiftPressed=!1)})}}var a=r(7),l=(r(26),r(3));class c{constructor(e){this.html=a,this.tile=l,this.model=e,this.dragTile=void 0,this.dragDropHandler=this.dragDropTile.bind(this),this.prevTileY=void 0,this.prevClientY=void 0,this.tileProxy=!1,this.tileOrderShift=0,this.shiftX=10,this.dragTileNumber=void 0,this.previousTileNumber=void 0}renderTile(){return i.htmlToDocFragment(this.tile)}render(){const e=i.htmlToDocFragment(this.html);return e.querySelector(".preview-list").prepend(this.renderTile()),e}dragDropTile(e){const t=this.prevTileY+(e.clientY-this.prevClientY);if(this.dragTile.style=`width: 96px; height: 96px; position: absolute; top:${t}px; z-index: 2000;`,this.tileProxy||(this.dragTile.insertAdjacentHTML("beforebegin",'<li class="preview-tile preview-tile-drop-proxy"></li>'),this.tileProxy=!0),this.dragTile.style.visibility="hidden",document.elementFromPoint(this.dragTile.getBoundingClientRect().left+10,e.clientY)){const t=document.elementFromPoint(this.dragTile.getBoundingClientRect().left+10,e.clientY);if(t.closest(".preview-tile")){const e=t.closest(".preview-tile");if(!e.classList.contains("preview-tile-drop-proxy")){const t=Number(e.dataset.tileNumber),r=document.querySelector(".preview-list"),n=r.querySelector(".preview-tile-drop-proxy");this.previousTileNumber>t?(this.tileOrderShift-=1,r.insertBefore(n,e)):this.previousTileNumber<t?(this.tileOrderShift+=1,r.insertBefore(n,e.nextElementSibling)):this.previousTileNumber===t&&(this.tileOrderShift>0?(this.tileOrderShift-=1,r.insertBefore(n,e)):(this.tileOrderShift+=1,r.insertBefore(n,e.nextElementSibling))),this.previousTileNumber=t}}}this.dragTile.style=`width: 96px; height: 96px; position: absolute; top:${t}px; z-index: 2000;`,this.prevTileY=t,this.prevClientY=e.clientY}prepareDragDrop(e){if(e.target.closest(".tile-view")){this.dragTile=e.target.closest(".preview-tile"),this.model.tileClicked=this.dragTile,this.dragTileNumber=Number(this.dragTile.dataset.tileNumber),this.previousTileNumber=this.dragTileNumber;const t=e.clientY-this.dragTile.getBoundingClientRect().top+document.querySelector(".preview-list").getBoundingClientRect().top;this.prevTileY=e.clientY-t,this.prevClientY=e.clientY,this.model.dragTile=!0,document.addEventListener("pointermove",this.dragDropHandler)}}finishDragDrop(){if(this.model.dragTile){if(document.removeEventListener("pointermove",this.dragDropHandler),document.querySelector(".preview-tile-drop-proxy")){const e=document.querySelector(".preview-tile-drop-proxy"),t=document.querySelector(".preview-list"),r=this.dragTileNumber+this.tileOrderShift;this.dragTile.style="position: relative; z-index: 1; top: 0px; left: 0px;",t.insertBefore(this.dragTile,e),e.remove(),this.dragTileNumber!==r&&(i.reorderFrames(this.model,this.dragTileNumber,r),i.renumberTiles(void 0,"reorder"))}this.dragTile=void 0,this.prevTileY=void 0,this.prevClientY=void 0,this.model.dragTile=!1,this.tileProxy=!1,this.tileOrderShift=0,this.dragTileNumber=void 0,this.previousTileNumber=void 0}}init(){document.querySelector(".preview-list").addEventListener("pointerdown",this.prepareDragDrop.bind(this)),document.addEventListener("pointerup",this.finishDragDrop.bind(this))}addTileToPreviewList(){const e=document.querySelector(".preview-list");let t=i.htmlToDocFragment(l);e.insertBefore(t,e.lastElementChild),i.deleteClassFromItems("preview-tile","selected"),(t=e.lastElementChild.previousElementSibling).classList.add("selected"),this.model.frames.push(this.model.emptyImage),t.setAttribute("data-tile-number",this.model.frames.length-1),this.model.setCurrentFrame(this.model.frames.length-1),i.redrawMainCanvas(this.model,this.model.getCurrentFrame()),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame])}deleteTileFromPreviewList(e){if(!this.model.dragTile&&e.target.closest(".delete-frame-action")&&document.querySelector(".preview-list").childElementCount>2){const t=e.target.closest(".preview-tile"),r=Number(t.dataset.tileNumber);if(this.model.frames.splice(r,1),t.classList.contains("selected")){const e=t.previousElementSibling;e?(e.classList.add("selected"),this.model.setCurrentFrame(this.model.getCurrentFrame()-1),i.redrawMainCanvas(this.model,r-1),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame])):(i.deleteClassFromItems("preview-tile","selected"),t.nextElementSibling.classList.add("selected"),i.redrawMainCanvas(this.model,r+1),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame]))}else r<this.model.getCurrentFrame()&&(0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame]),this.model.setCurrentFrame(this.model.getCurrentFrame()-1));i.renumberTiles(r,"less"),t.remove()}else e.target.closest(".delete-frame-action")&&document.querySelector(".preview-list").childElementCount<=2&&e.target.closest(".delete-frame-action").blur()}duplicateTileFromPreviewList(e){if(!this.model.dragTile&&e.target.closest(".duplicate-frame-action")){const t=document.querySelector(".preview-list"),r=e.target.closest(".preview-tile"),n=Number(r.dataset.tileNumber),o=r.cloneNode(!0);this.model.frames.splice(n+1,0,this.model.frames[n]),i.renumberTiles(n,"more"),o.setAttribute("data-tile-number",n+1),i.deleteClassFromItems("preview-tile","selected"),o.classList.add("selected"),this.model.setCurrentFrame(n+1),t.insertBefore(o,e.target.closest(".preview-tile").nextSibling),i.redrawMainCanvas(this.model,this.model.getCurrentFrame()-1),i.copyCanvasToPreview(this.model),e.target.closest(".duplicate-frame-action").blur(),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame])}}selectTileOnClick(e){if(this.model.tileClicked||e.target.closest(".tile-view")){let t;(t=this.model.tileClicked?this.model.tileClicked:e.target.closest(".preview-tile")).classList.contains("selected")||(i.deleteClassFromItems("preview-tile","selected"),t.classList.add("selected"),this.model.setCurrentFrame(Number(t.dataset.tileNumber)),i.redrawMainCanvas(this.model,this.model.getCurrentFrame()),0===this.model.fps&&i.changePreviewBackground(this.model.frames[this.model.currentFrame])),this.model.tileClicked=void 0}}}var d=r(4);r(30);class p{static createCanvas(e,t,r){const n=document.createElement("canvas");return n.classList.add(...r),n.width=e,n.height=t,n}}class h{constructor(){this.html=d}static render(e){const t=e.getWidth()*e.getZoom(),r=e.getHeight()*e.getZoom(),n=i.htmlToDocFragment(d),o=p.createCanvas(t,r,["canvas","drawing-canvas","pen-cursor"]),s=p.createCanvas(t,r,["canvas","helper-canvas","pen-cursor"]);return n.querySelector(".drawing-canvas-container").prepend(o),n.querySelector(".drawing-canvas-container").prepend(s),i.resizeCanvasBackground(n,t,r),n}}var m=r(8);r(33);class u{constructor(e){this.html=m,this.model=e}render(){return i.htmlToDocFragment(this.html)}animatePreview(){const e=this.model;let t=this.model.currentFrame;this.model.animationIntervalId&&clearInterval(this.model.animationIntervalId),0===this.model.fps?i.changePreviewBackground(this.model.frames[this.model.currentFrame]):this.model.animationIntervalId=setInterval(function(){i.changePreviewBackground(function(){(t+=1)>=e.frames.length&&(t=0);let r=e.frames[t];return"string"!=typeof r&&(r=e.emptyImage),r}())},1e3/this.model.fps)}updateFpsOnPreviewWindow(e){document.querySelector("#display-fps").textContent=`${e.target.value} FPS`,this.model.fps=Number(e.target.value)}static openPreviewFullScreen(){document.querySelector(".preview-canvas-container").requestFullscreen()}}r(37);var v=r(9);r(40);class g{constructor(e){this.utils=i,this.model=e}static createIcon(){const e=document.createElement("div");return e.classList.add("settings-icon","icon-settings-resize"),e.dataset.settings="resize",e}static renderSidePanel(){return i.htmlToDocFragment(v)}static resizeCanvases(e,t){const r=document.getElementById("canvas-resize"),n=document.querySelector(".drawing-canvas"),o=document.querySelector(".helper-canvas"),s=document.querySelector(".drawing-canvas-container"),a=n.getContext("2d"),l=new Image;l.src=e.frames[e.currentFrame],t.preventDefault(),e.setWidth(r.canvasSize.value),e.setHeight(r.canvasSize.value),e.setZoom(),r.reset(),i.hideSettingsPanel(t,!0),n.width=e.getWidth()*e.getZoom(),n.height=e.getHeight()*e.getZoom(),o.width=e.getWidth()*e.getZoom(),o.height=e.getHeight()*e.getZoom(),i.resizeCanvasBackground(s,n.width,n.height),a.drawImage(l,0,0,n.width,n.height),i.updateCursorCoordinates(e)}}class f{constructor(e){this.model=e,this.utils=i,this.fragment=document.createDocumentFragment(),this.resize=new g(this.model)}renderIcons(){return this.fragment.append(g.createIcon()),this.fragment}renderSettingsPanel(e){document.addEventListener("pointerup",i.hideSettingsPanel);const t=document.querySelector(".drawer");if("resize"===e.target.dataset.settings){for(e.target.classList.add("has-expanded-drawer");t.firstChild;)t.removeChild(t.firstChild);t.appendChild(g.renderSidePanel()),document.querySelector(`#width${this.model.width}`).setAttribute("checked","checked"),document.querySelector("#canvas-resize").addEventListener("submit",g.resizeCanvases.bind(null,this.model)),document.querySelector(".right-sticky-section").classList.add("expanded")}}}var w=r(10);r(42);class b{constructor(e){this.html=w,this.model=e}render(){return i.htmlToDocFragment(this.html)}updateCurrentColor(e){const t=e.target.value;this.model.setColor(t)}swapColors(){const e=document.getElementById("color-primary"),t=document.getElementById("color-secondary");this.model.setColor(t.value),t.value=e.value,e.value=this.model.getColor()}init(){document.getElementById("color-primary").addEventListener("change",this.updateCurrentColor.bind(this)),document.querySelector(".swap-color-button").addEventListener("pointerup",this.swapColors.bind(this))}}r(45);class x{constructor(e){this.model=e}render(){const e=document.createElement("div");return e.classList.add("cursor-coordinates"),e.innerText=`[${this.model.width}x${this.model.width}]  `,e}init(){const e=document.querySelector(".helper-canvas"),t=document.querySelector(".drawing-canvas"),r=document.querySelector(".cursor-coordinates");t.addEventListener("pointerout",()=>{r.innerText=`[${this.model.width}x${this.model.width}]  `}),e.addEventListener("pointerout",()=>{r.innerText=`[${this.model.width}x${this.model.width}]  `}),t.addEventListener("pointermove",()=>{r.innerText=`[${this.model.width}x${this.model.width}] ${this.model.currentX}:${this.model.currentY}`}),e.addEventListener("pointermove",()=>{r.innerText=`[${this.model.width}x${this.model.width}] ${this.model.currentX}:${this.model.currentY}`})}}class y{constructor(e){this.model=e,this.html=n,this.previewList=new c(this.model),this.tools=new s(this.model),this.canvas=new h,this.preview=new u(this.model),this.settings=new f(this.model),this.colorPicker=new b(this.model),this.cursorCoordinates=new x(this.model)}init(){const e=i.htmlToDocFragment(this.html);document.body.style.visibility="hidden",document.body.append(e),this.model.setZoom(),document.querySelector(".left-sticky-section .vertical-center").append(this.tools.render()),document.querySelector(".left-sticky-section .vertical-center").append(this.colorPicker.render()),document.querySelector(".main .left-column").append(this.previewList.render()),document.querySelector(".main .main-column").append(h.render(this.model)),document.querySelector(".main .right-column").append(this.preview.render()),document.querySelector(".main .right-column").append(this.cursorCoordinates.render()),document.querySelector(".settings-icons").append(this.settings.renderIcons()),this.preview.animatePreview(),this.colorPicker.init(),this.tools.init(),this.previewList.init(),this.cursorCoordinates.init(),document.body.style.visibility=""}addEventListeners(){document.querySelector(".add-frame-action").addEventListener("pointerup",this.previewList.addTileToPreviewList.bind(this)),document.querySelector(".preview-list").addEventListener("pointerup",this.previewList.deleteTileFromPreviewList.bind(this)),document.querySelector(".preview-list").addEventListener("pointerup",this.previewList.duplicateTileFromPreviewList.bind(this)),document.querySelector(".drawing-canvas").addEventListener("pointerdown",this.tools.canvasDownEventHandler.bind(this)),document.addEventListener("pointerup",this.tools.canvasUpEventHandler.bind(this)),document.addEventListener("pointermove",this.tools.canvasMoveEventHandler.bind(this)),document.addEventListener("pointerup",this.previewList.selectTileOnClick.bind(this)),document.querySelector("#preview-fps").addEventListener("input",this.preview.updateFpsOnPreviewWindow.bind(this)),document.querySelector("#preview-fps").addEventListener("input",this.preview.animatePreview.bind(this)),document.querySelector(".settings-icons").addEventListener("pointerup",this.settings.renderSettingsPanel.bind(this))}static addEventListeners2(){document.querySelector(".preview-fullscreen-icon").addEventListener("pointerup",u.openPreviewFullScreen)}}var C={DEFAULT:{WIDTH:32,HEIGHT:32,FPS:12},DEFAULT_PEN_COLOR:"#000000",TRANSPARENT_COLOR:"rgba(0, 0, 0, 0)",TOOL_HIGHLIGHT_COLOR_LIGHT:"rgba(255, 255, 255, 0.2)",MOUSEMOVE_THROTTLING:10};const k=new y(new class{constructor(){const{DEFAULT:{WIDTH:e,HEIGHT:t,FPS:r},DEFAULT_PEN_COLOR:n}=C;this.currentTool="tool-pen",this.width=e,this.height=t,this.zoom=1,this.penColor=n,this.canvasDraw=!1,this.currentFrame=0,this.emptyImage="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAEAAAABCAQAAAC1HAwCAAAAC0lEQVR42mNgYAAAAAMAASsJTYQAAAAASUVORK5CYII=",this.frames=[this.emptyImage],this.fps=r,this.animationIntervalId=void 0,this.prevX=void 0,this.prevY=void 0,this.startStrokeX=void 0,this.startStrokeY=void 0,this.pixelsToFill=void 0,this.tileClicked=void 0,this.currentX=0,this.currentY=0,this.dragDeltaX=0,this.dragDeltaY=0,this.colorSelectActive=void 0,this.colorSelectHelper="#a9a9c2",this.initialPixelsToFill=void 0,this.shiftPressed=!1,this.selected=!1}getWidth(){return this.width}setWidth(e){this.width=e}getHeight(){return this.height}setHeight(e){this.height=e}getZoom(){return this.zoom}setZoom(){this.zoom=i.calculateZoom(this.width,this.height)}getColor(){return this.penColor}setColor(e){this.penColor=e}getCanvasDrawStatus(){return this.canvasDraw}setCanvasDrawStatus(e){this.canvasDraw=e}setCurrentFrame(e){this.currentFrame=e}getCurrentFrame(){return this.currentFrame}});k.init(),k.addEventListeners(),y.addEventListeners2()}]);
//# sourceMappingURL=app.bundle.js.map